<div id="pf6b" class="pf w0 h0" data-page-no="6b"><div class="pc pc6b w0 h0"><img class="bi x12 y14 w1f h73" alt="" src="bg6b.png"/><div class="t m0 x64 h13 ya2 ffa fs7 fc1 sc0 ls0 ws0">Programs </div><div class="t m0 xc h9 y15 ff2 fs7 fc1 sc0 ls0 ws0"> </div><div class="t m0 xbc h9 y15 ff2 fs7 fc1 sc0 ls28 ws0">107</div><div class="t m0 x9 h3f y424 ff6 fs7 fc1 sc0 ls0 ws0">BxxInt=BxxInt*2*pi/(nn); </div><div class="t m0 x9 h3f y152 ff6 fs7 fc1 sc0 ls0 ws0">ByyInt=ByyInt*2*pi/(nn); </div><div class="t m0 x9 h3f y15a ff6 fs7 fc1 sc0 ls0 ws0"> </div><div class="t m0 x9 hf y7d ff9 fs7 fc0 sc0 ls0 ws0">function<span class="fc1"> [Hy,Hx]=mag5(B,R,h,x,y,tolschina) </span></div><div class="t m0 x9 h3f y33b ff6 fs7 fc6 sc0 ls0 ws0">%  <span class="fc1"> </span></div><div class="t m0 x9 h3f y5a ff6 fs7 fc1 sc0 ls0 ws0">mu=4*pi*10^-7; </div><div class="t m0 x9 h3f y186 ff6 fs7 fc1 sc0 ls0 ws0">Bm=B*R/(4*pi*mu); </div><div class="t m0 x9 h3f y4 ff6 fs7 fc1 sc0 ls0 ws0">[ByInt,BxInt]=mag4(y,R,h,x,tolschina); </div><div class="t m0 x9 h3f y2c9 ff6 fs7 fc1 sc0 ls0 ws0">Hy=Bm*ByInt; </div><div class="t m0 x9 h3f y35a ff6 fs7 fc1 sc0 ls0 ws0">Hx=Bm*BxInt; <span class="fc6">% </span> </div><div class="t m0 x9 h3f ybf ff6 fs7 fc1 sc0 ls0 ws0"> </div><div class="t m0 x9 hf y1c7 ff9 fs7 fc0 sc0 ls0 ws0">function<span class="fc1"> [wz,frMax,fxMax,dfrMax,dfxMax] = </span></div><div class="t m0 x9 hf y202 ff9 fs7 fc1 sc0 ls0 ws0">magDispley200(MM,tio,N,qZ,qZ_z,x000,mode) </div><div class="t m0 x9 h3f y9 ff6 fs7 fc6 sc0 ls0 ws0">% <span class="fc1"> </span></div><div class="t m0 x9 h3f y156 ff6 fs7 fc1 sc0 ls0 ws0">shag=tio/MM ; </div><div class="t m0 x9 h3f y1c6 ff6 fs7 fc1 sc0 ls0 ws0">k=1; </div><div class="t m0 x9 h3f y3b7 ff6 fs7 fc0 sc0 ls0 ws0">while<span class="fc1"> k &lt; MM </span></div><div class="t m0 x9 h3f y164 ff6 fs7 fc1 sc0 ls0 ws0">    t(k)=(k-1)*shag; </div><div class="t m0 x9 h3f y425 ff6 fs7 fc1 sc0 ls0 ws0">    fun(:,k) = ValueSeries0(N,qZ_z,t(k));+qZ(:,1); <span class="fc6">%dq</span> </div><div class="t m0 x9 h3f y165 ff6 fs7 fc1 sc0 ls0 ws0">    fun2(:,k) = ValueSeries0(N,qZ,t(k));+x000; </div><div class="t m0 x9 h3f yd2 ff6 fs7 fc1 sc0 ls0 ws0">    k=k+1; </div><div class="t m0 x9 h3f y426 ff6 fs7 fc0 sc0 ls0 ws0">end<span class="fc1"> </span></div><div class="t m0 x9 h3f y20e ff6 fs7 fc1 sc0 ls0 ws0">f1=fun(:,1)  </div><div class="t m0 x9 h3f y30a ff6 fs7 fc1 sc0 ls0 ws0">df1=fun2(:,1)  </div><div class="t m0 x9 h3f y6a ff6 fs7 fc1 sc0 ls0 ws0">dfrMax=max(fun(1,:)) </div><div class="t m0 x9 h3f y2f8 ff6 fs7 fc1 sc0 ls0 ws0">dfxMax=max(fun(2,:)) </div><div class="t m0 x9 h3f y45 ff6 fs7 fc1 sc0 ls0 ws0">frMax=max(fun2(1,:)) </div><div class="t m0 x9 h3f yaa ff6 fs7 fc1 sc0 ls0 ws0">fxMax=max(fun2(2,:)) </div><div class="t m0 x9 h3f y3da ff6 fs7 fc1 sc0 ls0 ws0">m1=dfrMax/frMax; </div><div class="t m0 x9 h3f y30 ff6 fs7 fc1 sc0 ls0 ws0">m2=dfxMax/fxMax; </div><div class="t m0 x9 h3f y6f ff6 fs7 fc1 sc0 ls0 ws0">wz=(m1+m2)/2; </div><div class="t m0 x9 h3f y25e ff6 fs7 fc1 sc0 ls0 ws0">subplot(4,1,1);  </div><div class="t m0 x9 h3f y4a ff6 fs7 fc1 sc0 ls0 ws0">p1=plot(t,fun(1,:),<span class="fc7">&apos;r&apos;</span>,t,zeros(1,MM-1)); </div><div class="t m0 x9 h3f y116 ff6 fs7 fc1 sc0 ls0 ws0">        set(p1,<span class="fc7">&apos;LineWidth&apos;</span>,3); </div><div class="t m0 x9 h3f y93 ff6 fs7 fc1 sc0 ls0 ws0">ylabel(<span class="fc7">&apos;dfr/dx&apos;</span>); </div><div class="t m0 x9 h3f yf2 ff6 fs7 fc0 sc0 ls0 ws0">if<span class="fc1"> mode==1 </span></div><div class="t m0 x9 h3f y1f7 ff6 fs7 fc1 sc0 ls0 ws0">        title(<span class="fc7">&apos;testDirakSolenoid&apos;</span>) </div><div class="t m0 x9 h3f y11a ff6 fs7 fc0 sc0 ls0 ws0">elseif<span class="fc1">  mode==3  </span></div><div class="t m0 x9 h3f y427 ff6 fs7 fc1 sc0 ls0 ws0">        title(<span class="fc7">&apos;testDirakMagnit&apos;</span>) </div><div class="t m0 x9 h3f y428 ff6 fs7 fc0 sc0 ls0 ws0">end<span class="fc1"> </span></div><div class="t m0 x9 h3f y2c5 ff6 fs7 fc1 sc0 ls0 ws0">subplot(4,1,2);  </div><div class="t m0 x9 h3f yfb ff6 fs7 fc1 sc0 ls0 ws0">p2=plot(t,fun(2,:),t,zeros(1,MM-1)); </div><div class="t m0 x9 h3f y1dc ff6 fs7 fc1 sc0 ls0 ws0">        set(p2,<span class="fc7">&apos;LineWidth&apos;</span>,3); </div><div class="t m0 x9 h3f y1b2 ff6 fs7 fc1 sc0 ls0 ws0">grid <span class="fc7">on</span> </div><div class="t m0 x9 h3f y2b7 ff6 fs7 fc1 sc0 ls0 ws0">ylabel(<span class="fc7">&apos;dfx/dx&apos;</span>); </div><div class="t m0 x9 h3f y429 ff6 fs7 fc1 sc0 ls0 ws0">subplot(4,1,3);  </div><div class="t m0 x9 h3f y1ff ff6 fs7 fc1 sc0 ls0 ws0">p3=plot(t,fun2(1,:),<span class="fc7">&apos;r&apos;</span>,t,zeros(1,MM-1)); </div><div class="t m0 x9 h3f y104 ff6 fs7 fc1 sc0 ls0 ws0">        set(p3,<span class="fc7">&apos;LineWidth&apos;</span>,3); </div><div class="t m0 x9 h3f y351 ff6 fs7 fc1 sc0 ls0 ws0">grid <span class="fc7">on</span> </div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
